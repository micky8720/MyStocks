<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>

	<title>Profile Page</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>

	<link href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css"
		rel="stylesheet"></link>
	<link href="css/bootstrap-responsive.css" rel="stylesheet"></link>
	<style type="text/css" />
</h:head>
<h:body>

	
<h3>Welcome, #{loginController.loginVO.username}</h3>
	<br />

	<h:form>
		<h:commandButton style=" position:absolute; top:0; right:0;"
			styleClass="btn btn-small btn-warning" value="logout"
			action="#{loginController.logout}" />
		<br />
		<br />

	</h:form>
	<h:form>
		<h:commandButton action="#{updateProfileController.updateUser}"
			value="update Profile">
			<f:param value="#{loginController.loginVO.username}" name="username" />
		</h:commandButton>
	</h:form>
	<h:form>
		<h:commandButton action="#{requestManagerController.sellStocks}"
			value="Sell Stocks">
			<f:param value="#{loginController.loginVO.username}" name="username" />
		</h:commandButton>
	</h:form>
	
<h:form>
		<h:commandButton action="managerProfile.xhtml"
			value="Home Page">
			<f:param value="#{loginController.loginVO.username}" name="username" />
		</h:commandButton>
	</h:form>

	<h:form>
		<h:commandButton action="#{requestManagerController.searchManager}"
			value="Search Manager For Buying Stocks">
			<f:param value="#{loginController.loginVO.username}" name="username" />
		</h:commandButton>
	</h:form>
	
	<h:form>
		<h:commandButton action="#{requestManagerController.searchManagerSelling}"
			value="Search Manager For Selling Stocks">
			<f:param value="#{loginController.loginVO.username}" name="username" />
		</h:commandButton>
	</h:form>
	<h3>Total Balance: #{historyController.balance}</h3>
	<h3>Purchase History</h3>
	<h:dataTable value="#{ historyController.list_purchase_manager}" var="user" rules="rows"
			cellpadding="7">
			<f:facet name="header"></f:facet>
			<f:facet name="footer"></f:facet>

			<h:column>
				<f:facet name="header">Purchase_id</f:facet>
                     #{ user.purchase_id }
                </h:column>

			<h:column>
				<f:facet name="header">Stock Name</f:facet>
                     #{ user.stock_name }
                </h:column>

			<h:column>
				<f:facet name="header">User_id</f:facet>
                     #{ user.user_id }
                </h:column>

			<h:column>
				<f:facet name="header">Price</f:facet>
                     #{ user.price }
                </h:column>
			<h:column>
				<f:facet name="header">Quantity</f:facet>
                     #{ user.quantity }
                </h:column>
			<h:column>
				<f:facet name="header">Amount</f:facet>
                     #{ user.amount }
                </h:column>
			
		</h:dataTable>
		<h3>Sell History</h3>
	<h:dataTable value="#{ historyController.list_sell_manager }" var="a" rules="rows"
			cellpadding="7">
			<f:facet name="header"></f:facet>
			<f:facet name="footer"></f:facet>

			<h:column>
				<f:facet name="header">Sell_id</f:facet>
                     #{ a.sell_id }
                </h:column>

			<h:column>
				<f:facet name="header">Stock Name</f:facet>
                     #{ a.stock_name }
                </h:column>

			<h:column>
				<f:facet name="header">User_id</f:facet>
                     #{ a.user_id }
                </h:column>

			<h:column>
				<f:facet name="header">Price</f:facet>
                     #{ a.price }
                </h:column>
			<h:column>
				<f:facet name="header">Quantity</f:facet>
                     #{ a.quantity }
                </h:column>
			<h:column>
				<f:facet name="header">Amount</f:facet>
                     #{ a.amount }
                </h:column>
			
		</h:dataTable>

</h:body>
</html>
